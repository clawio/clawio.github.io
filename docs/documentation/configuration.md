---
layout: simple
title: Configuration
---

The configuration of ClawIO resides in a central configuration file that is used by `clawiod` to set up the server.
You can specify the configuration file passing the `--config` flag (`clawiod --config /tmp/other_config.conf`) or the daemon will take the one at `/etc/clawiod/clawiod.conf` or `/etc/sysconfig/clawiod.conf` depending on your OS.

# Directives

* Will be replaced with the ToC, excluding the "Contents" header
{:toc}

# port

* Type: number
* Description: The port the server will listen for requests.
* Default: `57008`

**To listen in privileged ports (<1024) you have three options:**

1. Execute `clawiod` as `sudo` (`sudo clawiod --config /etc/clawiod/clawiod.conf`): **THIS IS NOT RECOMMENDED. JUST USE THIS ALTERNATIVE ONLY FOR TESTING PURPOSES**
2. Use Linux capabilities: `sudo setcap cap_net_bind_service=+ep /usr/bin/clawiod`. This sets an extended attribute in the binary so unprivileged users can listen in privileged ports.
3. Use a reverse proxy: Configure a reverse proxy like NGINX or Apache to listen in privileged ports to forward the requests to `clawiod` that is listening in unprivileged ports. **THIS IS THE RECOMMEND SETUP AS THE REVERSE PROXY GIVES MUCH MORE FLEXIBILITY**

# tls_enbaled 

* Type: boolean
* Description: When true enables HTTPS to have secure communications.
* Default: `false`

# tls_certificate

* Type: string
* Description: The location of the certificate for HTTPS communication.
* Default: `/etc/clawiod/conf.d./certificate.pem`

**THE DEFAULT CERTIFICATE AND PRIVATE KEY MUST BE USED ONLY FOR TESTING PURPOSES, A REAL CERTIFICATE GENERATED BY YOU IS NEEDED FOR SECURE THE CONNECTION**

# tls_certificate_private_key

* Type: string
* Description: The location of the private key used to encrypt the communication with the server.
* Default: `/etc/clawiod/conf.d/key.pem`

**THE DEFAULT CERTIFICATE AND PRIVATE KEY MUST BE USED ONLY FOR TESTING PURPOSES, A REAL CERTIFICATE GENERATED BY YOU IS NEEDED FOR SECURE THE CONNECTION**

# shutdown_timeout

* Type: number
* Description: The number of seconds to wait for ongoing requests when a graceful shutdown is triggered.
* Default: `30`

# maintenance

* Type: boolean
* Description: When true puts the server in maitenance mode. All requests will receive 503 Service Unavailable error.
* Default: `false`

# maintenance_message

* Type: string
* Description: The message to inform users when server enters maintenance mode.
* Default: `Server temporary unavailable due to maintenance tasks`

# log_app_file

* Type: string
* Description: The location of the file to write application logs.
* Default: `/var/log/clawiod/app.log`

# log_requests

* Type: boolean
* Description: When true puts logs Apache-alike requests logs.
* Default: `true`


# log_req_file

* Type: string
* Description: The location of the file to write Apache-alike logs.
* Default: `/var/log/clawiod/req.log`

# log_level

* Type: number
* Description: The level of the log.
* Default: `2`

| Number | Meaning |
|---|-------|
| 0 | Error |
| 1 | Warning |
| 2 | Info |
| 3 | Debug |

# token_secret

* Type: string
* Description: The secret to sign the authentication token.
* Default: `mysecret`

**THE DEFAULT SECRET MUST BE CHANGED TO AVOID SECURITY PROBLEMS**

# token_cipher_suite
* Type: string
* Description: The cipher suite to sign the authenticated token.
* Default: `HS256`

Supported signing methods:

* HS256

# token_expiration_time

* Type: number
* Description: The number of seconds the token is valid before it expires.
* Default: `2592000` ~ 1 month

# auth_token_header_name

* Type: string
* Description: The name of the HTTP header that transports the authentication token.
* Default: `X-Auth-Token`

# auth_token_query_param_name

* Type: string
* Description: The name of the URL query parameter that transports the authentication token.
* Default: `x-auth-token`

# checksum_header_name

* Type: string
* Description: The name of the HTTP header that transports the checksum.
* Default: `X-Checksum`

The value of the header has the layout: `<checksumtype>:<checksum>`. Example: `md5:14af130a3c023c2d54881341c7cf1b1b`

# checksum_query_param_name

* Type: string
* Description: The name of the URL query parameter that transports the checksum.
* Default: `checksum`

The value of the query param has the layout: `<checksumtype>:<checksum>`. Example: `md5:14af130a3c023c2d54881341c7cf1b1b`

# local_storage_prefix

* Type: string
* Description: The prefix used for local storage.
* Default: `local`

# local_storage_root_data_dir

* Type: string
* Description: The path where user data will be stored.
* Default: `/home/clawiod/data/notmp`

# local_storage_root_tmp_dir

* Type: string
* Description: The path where temporary data will be stored.
* Default: `/home/clawiod/data/tmp`

# file_auth_auth_id

* Type: string
* Description: The ID of this authentication strategy.
* Default: `fileauth`

# file_auth_filename

* Type: string
* Description: The path of the JSON file containing the users.
* Default: `/etc/clawiod/conf.d/fileauth.conf`

# api_root

* Type: string
* Description: The prefix used for the api.
* Default: `/api/v1`

# auth_api_enabled

* Type: boolean
* Description: Enables or disables the [Auth API](/documentation/api/v1/auth).
* Default: `true`

# auth_api_id

* Type: string
* Description: The ID for the [Auth API](/documentation/api/v1/auth).
* Default: `auth`

# storage_api_enabled

* Type: boolean
* Description: Enables or disables the [Storage API](/documentation/api/v1/storage).
* Default: `true`

# storage_api_id

* Type: string
* Description: The ID for the [Storage API](/documentation/api/v1/storage).
* Default: `storage`

# webdav_api_enabled

* Type: boolean
* Description: Enables or disables the [WebDAV API](/documentation/api/v1/webdav).
* Default: `true`

# webdav_api_id

* Type: string
* Description: The ID for the [WebDAV API](/documentation/api/v1/webdav).
* Default: `webdav`

# static_api_enabled

* Type: boolean
* Description: Enables or disables the [Static API](/documentation/api/v1/static).
* Default: `true`

# static_api_id

* Type: string
* Description: The ID for the [Static API](/documentation/api/v1/static).
* Default: `static`

# static_api_with_authentication

* Type: boolean
* Description: If enabled the request must be authenticated.
* Default: `false`
