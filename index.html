<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<style>
    html, body {
        height: 100%;
    }

    body {
        margin: 0;
        background-color: #000;
        color: #fff;
        text-align: center;
        font-family: sans-serif;
    }

    #wrapper {
        position: relative;
        top: 40%;
        transform: translateY(-40%);
    }

    #info > h1 {
        font-weight: 800;
        margin: 0;
        font-size: 64px;
        /* text-shadow: 0 2px 5px rgba(0,0,0, .5); */
    }
    #description {
        max-width: 512px;
        margin: 12px auto 0 auto;
        padding: 8px 0;
        background: rgba(0,0,0, .3);
        border-radius: 4px;
        font-size: 17px;
        line-height: 1.6em;
    }

    canvas {
        position: fixed;
        left: 0; top: 0;
        z-index: -1;
    }
</style>
</head>
<body>
<canvas id="canvas"></canvas>
<div id="wrapper">
    <section id="info">
        <h1>ClawIO</h1>
        <p id="description">Scalable Distributed High-Performance Cloud Storage Synchronization and Sharing Service</p>
        <p>Under development...</p>
    </section>
</div>
<script>
(function (window, document) {
    var intervalRef,
        prevWidth = window.innerWidth,
        prevHeight = window.innerHeight,
        // Create canvas and initialize it's context
        canvas = document.getElementById('canvas'),
        ctx = canvas.getContext('2d'),
        PI_2 = Math.PI * 2;

    function startCanvas(W, H) {
        // Set the dimensions of canvas
        canvas.width = W;
        canvas.height = H;

        // Function to create circles with different positions and velocities
        function create_circle() {
            // Random Position
            this.x = Math.random() * W;
            this.y = Math.random() * H;

            // Random Velocities
            this.vx = 0.1 + Math.random() * 0.5;
            this.vy = -this.vx;

            // Random Radius
            this.r = 0.1 + Math.random() * 5;
        }

        // Create an array of circles
        var circles = [],
            circles_count = 200;

        for (var i = 0; i < circles_count; i++) {
            circles.push(new create_circle());
        }

        function create_lines() {
            // Random Positions
            this.x = Math.random() * W;
            this.y = Math.random() * H;

            // Random Velocities
            this.vx = 0.5 + Math.random() * 0.8;
            this.vy = -this.vx;

            // Random Length
            this.l = 5 + Math.random() * 10;
        }

        // Create line particles
        var lines = [],
            lines_count = 200;

        for (var i = 0; i < lines_count; i++) {
            lines.push(new create_lines());
        }

        // Function to draw the background
        function draw() {
            // Create the gradient
            var grad = ctx.createLinearGradient(0, 0, W, H);
            grad.addColorStop(0, 'rgb(18, 150, 230)');
            grad.addColorStop(0, 'rgb(18, 150, 230)');

            // Fill the canvas with the gradient
            ctx.globalCompositeOperation = 'source-over';
            ctx.fillStyle = grad;
            ctx.fillRect(0, 0, W, H);

            // Fill the canvas with the circles
            for (var i = 0, cl = circles.length; i < cl; i++) {
                var c = circles[i];

                // Gradient for circle to create blur
                var blur_grad = ctx.createRadialGradient(c.x, c.y, 0, c.x, c.y, c.r);
                blur_grad.addColorStop(0,    'rgba(255,255,255, 0.5)');
                blur_grad.addColorStop(0.85, 'rgba(255,255,255, 0.5)');
                blur_grad.addColorStop(1,    'rgba(255,255,255, 0.0)');

                // Draw the circle and fill it with the blur gradient
                ctx.beginPath();
                ctx.globalCompositeOperation = 'lighter';
                ctx.fillStyle = blur_grad;
                ctx.arc(c.x, c.y, c.r, PI_2, false);
                ctx.fill();

                // Lets use the velocity now
                c.x += c.vx;
                c.y += c.vy;

                // To prevent the circles from moving out of the canvas
                if (c.x < -50) c.x = W + 50;
                if (c.y < -50) c.y = H + 50;
                if (c.x > W + 50) c.x = -50;
                if (c.y > H + 50) c.y = -50;
            }

            // Fill the canvas with lines
            for (var i = 0, ll = lines.length; i < ll; i++) {
                var l = lines[i];

                // Draw the lines
                ctx.beginPath();
                ctx.globalCompositeOperation = 'lighter';

                // Save and restore are used to prevent the circles from getting
                // the glow or shadow
                ctx.save();
                ctx.moveTo(l.x, l.y);
                ctx.shadowColor = 'white';
                ctx.shadowBlur = 0;
                ctx.lineTo(l.x + l.l, l.y - l.l);
                ctx.strokeStyle = 'rgba(0,255,255, .5)';
                ctx.stroke();
                ctx.restore();

                // Move the lines
                l.x += l.vx;
                l.y += l.vy;

                // To prevent the lines from moving out of the canvas
                if (l.x < -20) l.x = W + 20;
                if (l.y < -20) l.y = H + 20;
                if (l.x > W + 20) l.x = -20;
                if (l.y > H + 20) l.y = -20;
            }
        }

        intervalRef = window.setInterval(draw, 16);
    }

    function stopCanvas() {
        window.clearInterval(intervalRef);
        intervalRef = void 0;
    }

    window.addEventListener('load', function () {
        startCanvas(prevWidth, prevHeight);
    });

    window.addEventListener('resize', function () {
        var currWidth = window.innerWidth,
            currHeight = window.innerHeight;

        if (currWidth > prevWidth ||
            currHeight > prevHeight) {
            stopCanvas();
            startCanvas(currWidth, currHeight);

            prevWidth = currWidth;
            prevHeight = currHeight;
        }
    });
})(window, document);
</script>
</body>
</html>
